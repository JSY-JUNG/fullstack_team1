<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
            crossorigin="anonymous"></script>

</head>
<body>

<!-- hotPlace -->
<section id="hotPlace" class="max-container" th:fragment="hotPlace">
    <div class="slider-container">
        <button class="hotPlace__btn prev" onclick="moveSlide(-1)">&#10094;</button>
        <div class="slider-wrapper">
            <div class="slider">
                <div class="card"  th:if="${#lists.size(placeRankList)} > 0" th:each="item : ${placeRankList}">
                    <a href="#"
                    ><img class="card__img" src="/img/hotPlace01.png" alt="Top1" th:src="${item.MAINIMGTHUMB}"/><span
                            class="hotPlace__rank"

                    >Top</span
                    ></a
                    >
                </div>
            </div>
        </div>
        <button class="hotPlace__btn next" onclick="moveSlide(1)">&#10095;</button>
    </div>

    <script>
        // Header에 페이지 아래로 스크롤시 다크 스타일링 적용
        // const header = document.querySelector(".header");
        // const headerHeight = header.offsetHeight;
        // document.addEventListener("scroll", () => {
        //     if (window.scrollY > headerHeight) {
        //         header.classList.add("header--dark");
        //     } else {
        //         header.classList.remove("header--dark");
        //     }
        // });

        let index = 0;
        let lastDirection = 1; // 최근 이동 방향 저장

        function moveSlide(step) {
            const slider = document.querySelector(".slider");
            const totalCards = document.querySelectorAll(".card").length;
            const cardWidth = document.querySelector(".card").offsetWidth + 20;
            const maxIndex = totalCards - 1;

            if (step === -1 && lastDirection === 1) {
                index -= 1;
                if (index < 0) index = maxIndex;
            } else {
                index += step;
                if (index > maxIndex) index = 0;
                if (index < 0) index = maxIndex;
            }

            lastDirection = step;
            slider.style.transform = `translateX(${-index * cardWidth}px)`;
        }
    </script>
</section>

</body>
</html>